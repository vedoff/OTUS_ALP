============================= Вариант №1 =====================================

Перегружаем сервер и в меню загрузки нажимаем "e"

Выбираем загружаемое ядро по умолчанию или требуемое

находим строку с загрузкой, пример:

linux16 /vmlinuz-5.14.14-1.el7.elrepo.x86_64 root=/dev/mapper/centos-root ro ...

меняем ro на rw 

Добавляем после: init=/sysroot/bin/sh

Пр:
linux16 /vmlinuz-5.14.14-1.el7.elrepo.x86_64 root=/dev/mapper/centos-root rw init=/sysroot/bin/sh

нажимаем Ctrl + X

в консоле

chroot /sysroot
passwd root
Меняем пароль

Обновляем параметры SELinux
touch /.autorelabel

exit
reboot

Пароль изменен
============================ Вариант №2 ======================================

Перегружаем сервер и в меню загрузки нажимаем "e"

Дописываем в конец строки rd.break (опционально убираем quiet)

Загружаемся нажимаем Ctrl - x

Смотрим список смонтированных файловых систем. Ищем /sysroot
mount

Перемонтируем в режиме rw /sysroot.
mount -o remount,rw /sysroot

Проверяем командой mount что /sysroot примонтирован в rw режиме
(чтение-запись)
mount

Заходим в образ системы
chroot /sysroot

Изменяем пароль пользователя командой
passwd

Т.к. разрешен selinux - создаем файл .autorelabel. (по умолчанию разрешен)
touch /.autorelabel

exit

Перемонтируем в ro (read only)
mount -o remount,ro /sysroot
reboot

пароль изменен


===================================== Отличие первого способа от второго ==============================

Первый способ получает доступ в shell в автоматическом режиме, 
когда мы указываем монтирование корневого раздела на запись и какой shell будем использовать.
Добавляется только вход под chroot в образ системы.

Второй способ командой rd.break принудительно останавливает нас в initramfs.
Далее нам нужно примантировать sysroot в режиме записи
Зайти в режиме chroot в образ
И сменить пароль.







